# ูฺฺฏโูุง ุฌุฏุฏ Mars SysPro Universal

## ๐ ุชูุธู ุนุฑุถ ฺฉุงุบุฐ (Paper Width Formatting)

### ุชูุธูุงุช:
ุฏุฑ ูุงู `config.json`:
```json
{
  "printer": {
    "paper_width": 80  // ุง 58 ููโูุชุฑ
  }
}
```

### ูุงุจูุชโูุง:
- **ฺฉุงุบุฐ 80 ููโูุชุฑ**: ุญุฏุงฺฉุซุฑ 48 ฺฉุงุฑุงฺฉุชุฑ ุฏุฑ ูุฑ ุฎุท
- **ฺฉุงุบุฐ 58 ููโูุชุฑ**: ุญุฏุงฺฉุซุฑ 32 ฺฉุงุฑุงฺฉุชุฑ ุฏุฑ ูุฑ ุฎุท
- **ุชูุณู ุฎูุฏฺฉุงุฑ**: ุฎุทูุท ุทููุงู ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุชูุณู ูโุดููุฏ

---

## ๐ ูุงูุชูุฑูฺฏ ุงุชุตุงู ุงูุชุฑูุช

### ูุงุจูุชโูุง:
- **ฺฺฉ ุฎูุฏฺฉุงุฑ**: ูุฑ 5 ุซุงูู ุงุชุตุงู ุงูุชุฑูุช ฺฺฉ ูโุดูุฏ
- **ุขูุงุฑู ูุทุน**: ุฏุฑ ุตูุฑุช ูุทุน ุงูุชุฑูุช ุขูุงุฑู ูพุฎุด ูโุดูุฏ
- **ูุตู ุดุฏู ูุฌุฏุฏ**: ุชุง ุฒูุงู ูุตู ุดุฏู ูุฌุฏุฏ ุชูุงุด ูโฺฉูุฏ
- **ุฑูุฑุด ุฎูุฏฺฉุงุฑ**: ูพุณ ุงุฒ ูุตู ุดุฏู ุตูุญู ุฑูุฑุด ูโุดูุฏ
- **ุชููู ุขูุงุฑู**: ุขูุงุฑู ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ูุชููู ูโุดูุฏ

### ูุงฺฏโูุง:
```
๐จ Internet connection lost!
๐ Internet alarm started
โ Internet connection restored!
๐ Internet alarm stopped
๐ WebView page refreshed
```

---

## ๐ฅ Health Check ุตูุญู WebView

### ุชูุธูุงุช:
ุฏุฑ ูุงู `config.json`:
```json
{
  "app_url": "http://localhost:3001/order-reception.html"
}
```

### ูุงุจูุชโูุง:
- **ฺฺฉ ุฎูุฏฺฉุงุฑ**: ูุฑ 10 ุซุงูู ุณูุงูุช ุตูุญู ฺฺฉ ูโุดูุฏ
- **ูพุงู ุฎุทุง**: ุฏุฑ ุตูุฑุช ุนุฏู ุฏุณุชุฑุณ ูพุงู ูุฑูุฒ ููุงุด ุฏุงุฏู ูโุดูุฏ
- **ุฑูุฑุด ุฎูุฏฺฉุงุฑ**: ูพุณ ุงุฒ ุจูุจูุฏ ูุถุนุช ุตูุญู ุฑูุฑุด ูโุดูุฏ
- **ูพูุดุด ฺฉุงูู**: ูพุงู ุฎุทุง ฺฉู ุตูุญู ุฑุง ูโูพูุดุฏ

### ูพุงู ุฎุทุง:
```
โ๏ธ ุณุณุชู ูุทุน ุงุณุช
ุฏุฑ ุญุงู ุชูุงุด ุจุฑุง ูุตู ุดุฏู...
```

### ูุงฺฏโูุง:
```
๐จ WebView health check failed!
๐จ System error overlay displayed
โ WebView health restored!
๐ WebView error cleared and refreshed
```

---

## ๐ง API Endpoints ุฌุฏุฏ

### ูุถุนุช ุณุณุชู:
```bash
curl -X GET http://localhost:8080/api/status
```

### ฺุงูพ ุจุง ูุฑูุชโุจูุฏ:
```bash
curl -X POST http://localhost:8080/api/print \
  -H "Content-Type: application/json" \
  -d '{"text":"ูุชู ุทููุงู ฺฉู ุฎูุฏฺฉุงุฑ ูุฑูุช ูโุดูุฏ..."}'
```

---

## โ๏ธ ูุญูู ุงุณุชูุงุฏู

### 1. ุชูุธู ุนุฑุถ ฺฉุงุบุฐ:
- ูุงู `config.json` ุฑุง ูุฑุงุด ฺฉูุฏ
- `paper_width` ุฑุง ุจู 80 ุง 58 ุชุบุฑ ุฏูุฏ
- ุจุฑูุงูู ุฑุง ูุฌุฏุฏุงู ุงุฌุฑุง ฺฉูุฏ

### 2. ูุงูุชูุฑูฺฏ:
- ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุดุฑูุน ูโุดูุฏ
- ูฺ ุชูุธู ุงุถุงู ูุงุฒ ูุณุช
- ูุงฺฏโูุง ุฏุฑ ฺฉูุณูู ููุงุด ุฏุงุฏู ูโุดูุฏ

### 3. URL ุงูพูฺฉุดู:
- ูุงู `config.json` ุฑุง ูุฑุงุด ฺฉูุฏ
- `app_url` ุฑุง ุจู ุขุฏุฑุณ ุตุญุญ ุชุบุฑ ุฏูุฏ
- ุจุฑูุงูู ุฑุง ูุฌุฏุฏุงู ุงุฌุฑุง ฺฉูุฏ

---

## ๐ Cleanup ุฎูุฏฺฉุงุฑ

- ููฺฏุงู ุจุณุชู ุจุฑูุงูู ููู thread ูุง ูุชููู ูโุดููุฏ
- ุขูุงุฑู ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ูุทุน ูโุดูุฏ
- ูฺ process ุจุงู ููโูุงูุฏ

---

## โ ุชุณุช ูฺฺฏโูุง

### ุชุณุช ุนุฑุถ ฺฉุงุบุฐ:
```bash
# ูุชู ุทููุงู ุจุฑุง ุชุณุช ุชูุณู ุฎุทูุท
curl -X POST http://localhost:8080/api/print \
  -d '{"text":"ุงู ุฎุท ุฎู ุทููุงู ุงุณุช ู ุจุงุฏ ุชูุณู ุดูุฏ"}'
```

### ุชุณุช ูุทุน ุงูุชุฑูุช:
- ุงุชุตุงู ุงูุชุฑูุช ุฑุง ูุทุน ฺฉูุฏ
- ุขูุงุฑู ุจุงุฏ ุดุฑูุน ุดูุฏ
- ุงุชุตุงู ุฑุง ุจุฑูุฑุงุฑ ฺฉูุฏ
- ุขูุงุฑู ุจุงุฏ ูุชููู ุดูุฏ

### ุชุณุช Health Check:
- ุณุฑูุฑ ุงูพูฺฉุดู ุฑุง ูุชููู ฺฉูุฏ
- ูพุงู ุฎุทุง ุจุงุฏ ููุงุด ุฏุงุฏู ุดูุฏ
- ุณุฑูุฑ ุฑุง ูุฌุฏุฏุงู ุงุฌุฑุง ฺฉูุฏ
- ุตูุญู ุจุงุฏ ุฑูุฑุด ุดูุฏ
